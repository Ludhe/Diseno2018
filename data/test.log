/*C10*/SET SCHEMA PUBLIC
ALTER TABLE ESTADOMANTENIMIENTODETALLE DROP CONSTRAINT FK_ESTADOMANTENIMIENTODETALLE_id_estado
ALTER TABLE ESTADOMANTENIMIENTODETALLE DROP CONSTRAINT ESTADOMANTENIMIENTODETALLEid_mantenimiento_detalle
ALTER TABLE ESTADOMANTENIMIENTODETALLE DROP CONSTRAINT FK_ESTADOMANTENIMIENTODETALLE_id_responsable
ALTER TABLE PASO DROP CONSTRAINT FK_PASO_id_procedimiento
ALTER TABLE PROCEDIMIENTO DROP CONSTRAINT FK_PROCEDIMIENTO_id_diagnostico
ALTER TABLE ORDENTRABAJO DROP CONSTRAINT FK_ORDENTRABAJO_id_prioridad
ALTER TABLE ORDENTRABAJO DROP CONSTRAINT FK_ORDENTRABAJO_id_solicitud
ALTER TABLE ORDENTRABAJO DROP CONSTRAINT FK_ORDENTRABAJO_id_equipo
ALTER TABLE ORDENTRABAJO DROP CONSTRAINT FK_ORDENTRABAJO_id_unidad
ALTER TABLE ORDENTRABAJO DROP CONSTRAINT FK_ORDENTRABAJO_id_tipo_mantenimiento
ALTER TABLE EQUIPODETALLE DROP CONSTRAINT FK_EQUIPODETALLE_id_marca
ALTER TABLE EQUIPODETALLE DROP CONSTRAINT FK_EQUIPODETALLE_id_modelo
ALTER TABLE EQUIPODETALLE DROP CONSTRAINT FK_EQUIPODETALLE_id_equipo
ALTER TABLE RESPONSABLE DROP CONSTRAINT FK_RESPONSABLE_id_tipo_responsable
ALTER TABLE DIAGNOSTICOPARTE DROP CONSTRAINT FK_DIAGNOSTICOPARTE_id_parte
ALTER TABLE DIAGNOSTICOPARTE DROP CONSTRAINT FK_DIAGNOSTICOPARTE_id_diagnostico
ALTER TABLE PARTE DROP CONSTRAINT FK_PARTE_id_tipo_parte
ALTER TABLE ORDENTRABAJOCALENDARIO DROP CONSTRAINT FK_ORDENTRABAJOCALENDARIO_id_orden_trabajo
ALTER TABLE ORDENTRABAJOCALENDARIO DROP CONSTRAINT FK_ORDENTRABAJOCALENDARIO_id_fecha
ALTER TABLE TIPOMANTENIMIENTO DROP CONSTRAINT FK_TIPOMANTENIMIENTO_id_sub_tipo_mantenimiento
ALTER TABLE MANTENIMIENTODETALLE DROP CONSTRAINT FK_MANTENIMIENTODETALLE_id_oden_trabajo
DROP TABLE ESTADOMANTENIMIENTODETALLE
DROP TABLE PASO
DROP TABLE MODELO
DROP TABLE PROCEDIMIENTO
DROP TABLE ORDENTRABAJO
DROP TABLE TIPORESPONSABLE
DROP TABLE SOLICITUD
DROP TABLE PRIORIDAD
DROP TABLE MARCA
DROP TABLE CALENDARIO
DROP TABLE ESTADO
DROP TABLE EQUIPODETALLE
DROP TABLE RESPONSABLE
DROP TABLE DIAGNOSTICOPARTE
DROP TABLE TIPOPARTE
DROP TABLE UNIDAD
DROP TABLE PARTE
DROP TABLE SUBTIPOMANTENIMIENTO
DROP TABLE ORDENTRABAJOCALENDARIO
DROP TABLE TIPOMANTENIMIENTO
DROP TABLE DIAGNOSTICO
DROP TABLE EQUIPO
DROP TABLE CALENDARIOEXCEPCION
DROP TABLE MANTENIMIENTODETALLE
CREATE TABLE ESTADOMANTENIMIENTODETALLE (id_estado_mantenimiento_detalle INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, id_paso INTEGER, id_estado INTEGER, id_mantenimiento_detalle BIGINT, id_responsable INTEGER, PRIMARY KEY (id_estado_mantenimiento_detalle))
CREATE TABLE PASO (id_paso INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, descripcion VARCHAR(255), nombre VARCHAR(255), id_procedimiento INTEGER, PRIMARY KEY (id_paso))
CREATE TABLE MODELO (id_modelo INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, activo BOOLEAN, descripcion VARCHAR(255), nombre VARCHAR(255), PRIMARY KEY (id_modelo))
CREATE TABLE PROCEDIMIENTO (id_procedimiento INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, activo BOOLEAN, descripcion VARCHAR(255), nombre VARCHAR(255), id_diagnostico INTEGER, PRIMARY KEY (id_procedimiento))
CREATE TABLE ORDENTRABAJO (id_orden_trabajo BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, fecha_estimada DATE, fecha_inicio DATE, observaciones VARCHAR(255), id_equipo INTEGER, id_prioridad INTEGER, id_solicitud INTEGER, id_tipo_mantenimiento INTEGER, id_unidad INTEGER, PRIMARY KEY (id_orden_trabajo))
CREATE TABLE TIPORESPONSABLE (id_tipo_responsable INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, descripciont VARCHAR(255), nombre VARCHAR(255), PRIMARY KEY (id_tipo_responsable))
CREATE TABLE SOLICITUD (id_solicitud INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, activo BOOLEAN, fecha_solicitud DATE, solicitante VARCHAR(255), PRIMARY KEY (id_solicitud))
CREATE TABLE PRIORIDAD (id_prioridad INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, activo BOOLEAN, descripcion VARCHAR(255), nombre VARCHAR(255), PRIMARY KEY (id_prioridad))
CREATE TABLE MARCA (id_marca INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, activo BOOLEAN, descripcion VARCHAR(255), nombre VARCHAR(255), PRIMARY KEY (id_marca))
CREATE TABLE CALENDARIO (id_fecha INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, descripcion VARCHAR(255), fecha DATE, PRIMARY KEY (id_fecha))
CREATE TABLE ESTADO (id_estado INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, activo BOOLEAN, descripcion VARCHAR(255), nombre VARCHAR(255), PRIMARY KEY (id_estado))
CREATE TABLE EQUIPODETALLE (id_equipo_detalle BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, id_parte INTEGER, id_equipo INTEGER, id_marca INTEGER, id_modelo INTEGER, PRIMARY KEY (id_equipo_detalle))
CREATE TABLE RESPONSABLE (id_responsable INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, activo BOOLEAN, descripcion VARCHAR(255), nombre VARCHAR(255), id_tipo_responsable INTEGER, PRIMARY KEY (id_responsable))
CREATE TABLE DIAGNOSTICOPARTE (id_diagnostico_parte INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, id_diagnostico INTEGER, id_parte INTEGER, PRIMARY KEY (id_diagnostico_parte))
CREATE TABLE TIPOPARTE (id_tipo_parte INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, descripcion VARCHAR(255), nombre VARCHAR(255), PRIMARY KEY (id_tipo_parte))
CREATE TABLE UNIDAD (id_unidad INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, codigo VARCHAR(255), nombre VARCHAR(255), PRIMARY KEY (id_unidad))
CREATE TABLE PARTE (id_parte INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, descripcion VARCHAR(255), nombre VARCHAR(255), id_tipo_parte INTEGER, PRIMARY KEY (id_parte))
CREATE TABLE SUBTIPOMANTENIMIENTO (id_sub_tipo_mantenimiento INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, descripcion VARCHAR(255), nombre VARCHAR(255), PRIMARY KEY (id_sub_tipo_mantenimiento))
CREATE TABLE ORDENTRABAJOCALENDARIO (id_orden_trabajo_calendario INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, id_fecha INTEGER, id_orden_trabajo BIGINT, PRIMARY KEY (id_orden_trabajo_calendario))
CREATE TABLE TIPOMANTENIMIENTO (id_tipo_mantenimiento INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, activo BOOLEAN, descipcion VARCHAR(255), nombre VARCHAR(255), id_sub_tipo_mantenimiento INTEGER, PRIMARY KEY (id_tipo_mantenimiento))
CREATE TABLE DIAGNOSTICO (id_diagnostico INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, descripcion VARCHAR(255), nombre VARCHAR(255), PRIMARY KEY (id_diagnostico))
CREATE TABLE EQUIPO (id_quipo INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, correlativo VARCHAR(255), observaciones VARCHAR(255), PRIMARY KEY (id_quipo))
CREATE TABLE CALENDARIOEXCEPCION (id_excepcion INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, descripcion VARCHAR(255), estado BOOLEAN, fecha DATE, PRIMARY KEY (id_excepcion))
CREATE TABLE MANTENIMIENTODETALLE (id_mantenimiento_detalle BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, id_equipo_detalle INTEGER, id_oden_trabajo BIGINT, PRIMARY KEY (id_mantenimiento_detalle))
ALTER TABLE ESTADOMANTENIMIENTODETALLE ADD CONSTRAINT FK_ESTADOMANTENIMIENTODETALLE_id_estado FOREIGN KEY (id_estado) REFERENCES ESTADO (id_estado)
ALTER TABLE ESTADOMANTENIMIENTODETALLE ADD CONSTRAINT ESTADOMANTENIMIENTODETALLEid_mantenimiento_detalle FOREIGN KEY (id_mantenimiento_detalle) REFERENCES MANTENIMIENTODETALLE (id_mantenimiento_detalle)
ALTER TABLE ESTADOMANTENIMIENTODETALLE ADD CONSTRAINT FK_ESTADOMANTENIMIENTODETALLE_id_responsable FOREIGN KEY (id_responsable) REFERENCES RESPONSABLE (id_responsable)
ALTER TABLE PASO ADD CONSTRAINT FK_PASO_id_procedimiento FOREIGN KEY (id_procedimiento) REFERENCES PROCEDIMIENTO (id_procedimiento)
ALTER TABLE PROCEDIMIENTO ADD CONSTRAINT FK_PROCEDIMIENTO_id_diagnostico FOREIGN KEY (id_diagnostico) REFERENCES DIAGNOSTICO (id_diagnostico)
ALTER TABLE ORDENTRABAJO ADD CONSTRAINT FK_ORDENTRABAJO_id_prioridad FOREIGN KEY (id_prioridad) REFERENCES PRIORIDAD (id_prioridad)
ALTER TABLE ORDENTRABAJO ADD CONSTRAINT FK_ORDENTRABAJO_id_solicitud FOREIGN KEY (id_solicitud) REFERENCES SOLICITUD (id_solicitud)
ALTER TABLE ORDENTRABAJO ADD CONSTRAINT FK_ORDENTRABAJO_id_equipo FOREIGN KEY (id_equipo) REFERENCES EQUIPO (id_quipo)
ALTER TABLE ORDENTRABAJO ADD CONSTRAINT FK_ORDENTRABAJO_id_unidad FOREIGN KEY (id_unidad) REFERENCES UNIDAD (id_unidad)
ALTER TABLE ORDENTRABAJO ADD CONSTRAINT FK_ORDENTRABAJO_id_tipo_mantenimiento FOREIGN KEY (id_tipo_mantenimiento) REFERENCES TIPOMANTENIMIENTO (id_tipo_mantenimiento)
ALTER TABLE EQUIPODETALLE ADD CONSTRAINT FK_EQUIPODETALLE_id_marca FOREIGN KEY (id_marca) REFERENCES MARCA (id_marca)
ALTER TABLE EQUIPODETALLE ADD CONSTRAINT FK_EQUIPODETALLE_id_modelo FOREIGN KEY (id_modelo) REFERENCES MODELO (id_modelo)
ALTER TABLE EQUIPODETALLE ADD CONSTRAINT FK_EQUIPODETALLE_id_equipo FOREIGN KEY (id_equipo) REFERENCES EQUIPO (id_quipo)
ALTER TABLE RESPONSABLE ADD CONSTRAINT FK_RESPONSABLE_id_tipo_responsable FOREIGN KEY (id_tipo_responsable) REFERENCES TIPORESPONSABLE (id_tipo_responsable)
ALTER TABLE DIAGNOSTICOPARTE ADD CONSTRAINT FK_DIAGNOSTICOPARTE_id_parte FOREIGN KEY (id_parte) REFERENCES PARTE (id_parte)
ALTER TABLE DIAGNOSTICOPARTE ADD CONSTRAINT FK_DIAGNOSTICOPARTE_id_diagnostico FOREIGN KEY (id_diagnostico) REFERENCES DIAGNOSTICO (id_diagnostico)
ALTER TABLE PARTE ADD CONSTRAINT FK_PARTE_id_tipo_parte FOREIGN KEY (id_tipo_parte) REFERENCES TIPOPARTE (id_tipo_parte)
ALTER TABLE ORDENTRABAJOCALENDARIO ADD CONSTRAINT FK_ORDENTRABAJOCALENDARIO_id_orden_trabajo FOREIGN KEY (id_orden_trabajo) REFERENCES ORDENTRABAJO (id_orden_trabajo)
ALTER TABLE ORDENTRABAJOCALENDARIO ADD CONSTRAINT FK_ORDENTRABAJOCALENDARIO_id_fecha FOREIGN KEY (id_fecha) REFERENCES CALENDARIO (id_fecha)
ALTER TABLE TIPOMANTENIMIENTO ADD CONSTRAINT FK_TIPOMANTENIMIENTO_id_sub_tipo_mantenimiento FOREIGN KEY (id_sub_tipo_mantenimiento) REFERENCES SUBTIPOMANTENIMIENTO (id_sub_tipo_mantenimiento)
ALTER TABLE MANTENIMIENTODETALLE ADD CONSTRAINT FK_MANTENIMIENTODETALLE_id_oden_trabajo FOREIGN KEY (id_oden_trabajo) REFERENCES ORDENTRABAJO (id_orden_trabajo)
INSERT INTO MARCA VALUES(1,NULL,NULL,'nombre marca')
COMMIT
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
